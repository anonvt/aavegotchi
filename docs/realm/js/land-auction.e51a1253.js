(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["land-auction"],{"4a2b":function(e,t,c){"use strict";c("4a96")},"4a96":function(e,t,c){},"6d16":function(e,t,c){"use strict";c("efee")},b6b3:function(e,t,c){var a={"./auction1.json":["3ebe","auctionjson0"],"./auction2.json":["423d","auctionjson1"]};function n(e){if(!c.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return c.e(t[1]).then((function(){return c.t(n,3)}))}n.keys=function(){return Object.keys(a)},n.id="b6b3",e.exports=n},e6ad:function(e,t,c){"use strict";c.r(t);var a=c("7a23");function n(e,t,c,n,l,i){var r=Object(a["D"])("LandAuction");return Object(a["v"])(),Object(a["d"])(r,{key:c.auctionId,auctionId:c.auctionId},null,8,["auctionId"])}var l=function(e){return Object(a["y"])("data-v-22cd0dba"),e=e(),Object(a["w"])(),e},i={style:{"margin-bottom":"10px"}},r={key:0,style:{"margin-bottom":"20px","font-style":"italic","font-size":"0.95em"}},o=Object(a["i"])(" Last auction data fetched: "),u=l((function(){return Object(a["g"])("br",null,null,-1)})),s={style:{margin:"10px 0 20px 0"}},b=["disabled"],d={key:0},O=Object(a["i"])(" loading auctions... "),j={key:1},f={class:"config-details"},m={style:{"margin-bottom":"10px"}},h=Object(a["i"])(" Color by: "),v=["value"],p={key:0},g={style:{"text-transform":"capitalize"}},y={style:{"margin-bottom":"10px"}},S=Object(a["i"])(" Color Scheme: "),B=["onUpdate:modelValue"],P=["value"],x=Object(a["i"])(" Min: "),F=["onUpdate:modelValue"],k=Object(a["i"])(" Max: "),w=["onUpdate:modelValue"],A={key:1},C=Object(a["i"])(" Color Scheme: "),V=["value"],D={key:2},I=Object(a["i"])(" Color Scheme: "),N=["value"],T={style:{"margin-top":"8px"}},L=Object(a["i"])(" Min: "),E=Object(a["i"])(" Max: "),G={key:3},U=Object(a["i"])(" Color Scheme: "),M=["value"],R={style:{"margin-top":"8px"}},_=Object(a["i"])(" Min: "),z=Object(a["i"])(" Max: "),q={ref:"parcelDetailsRef"},K={key:0,class:"selected-parcel-details"},X=l((function(){return Object(a["g"])("h2",null,"Selected Parcel details:",-1)})),H=l((function(){return Object(a["g"])("br",null,null,-1)})),J=l((function(){return Object(a["g"])("br",null,null,-1)})),W=l((function(){return Object(a["g"])("br",null,null,-1)})),$={key:0},Q=["href"],Y=l((function(){return Object(a["g"])("br",null,null,-1)})),Z=Object(a["i"])("Bidder: "),ee=Object(a["i"])(" Boosts: "),te={style:{"margin-left":"10px"}},ce={key:0},ae={key:1},ne={key:2},le={key:3},ie=Object(a["i"])(" None "),re={key:0},oe=Object(a["i"])(" No parcels found. "),ue={class:"parcels-list"},se=["onClick"],be=["href"];function de(e,t,c,n,l,de){var Oe=Object(a["D"])("DatePrecise"),je=Object(a["D"])("LoadingSpinner"),fe=Object(a["D"])("MapConfig"),me=Object(a["D"])("FilterSize"),he=Object(a["D"])("FilterWalls"),ve=Object(a["D"])("FilterDistricts"),pe=Object(a["D"])("FilterRoads"),ge=Object(a["D"])("FilterBoosts"),ye=Object(a["D"])("FilterBidders"),Se=Object(a["D"])("FilterParcelIds"),Be=Object(a["D"])("FilterParcelNames"),Pe=Object(a["D"])("EthAddress"),xe=Object(a["D"])("CitaadelMap"),Fe=Object(a["D"])("LayoutMapWithFilters"),ke=Object(a["D"])("PrereqParcels");return Object(a["v"])(),Object(a["d"])(ke,null,{default:Object(a["N"])((function(){return[Object(a["j"])(Fe,null,{sidebar:Object(a["N"])((function(){var e;return[Object(a["g"])("section",null,[Object(a["g"])("h2",i," Auction "+Object(a["F"])(c.auctionId)+" ("+Object(a["F"])(n.auctionInfo.days)+") ",1),n.mostRecentAuction?(Object(a["v"])(),Object(a["f"])("div",r,[o,u,Object(a["i"])(" parcel #"+Object(a["F"])(n.mostRecentAuction.tokenId)+", ",1),Object(a["j"])(Oe,{date:n.mostRecentAuctionDate},null,8,["date"])])):Object(a["e"])("",!0),Object(a["g"])("div",s,[Object(a["g"])("button",{type:"button",disabled:!n.canSubmitAuctionsFetch,class:"fetch-auctions",style:{display:"none"},onClick:t[0]||(t[0]=function(){return n.fetchAuctions&&n.fetchAuctions.apply(n,arguments)})}," Fetch Latest ",8,b),n.auctionsFetchStatus.loading?(Object(a["v"])(),Object(a["f"])("span",d,[Object(a["j"])(je,{style:{position:"relative",top:"2px","margin-right":"2px"}}),O])):Object(a["e"])("",!0),n.auctionsFetchStatus.error?(Object(a["v"])(),Object(a["f"])("span",j," Error loading auctions: "+Object(a["F"])(n.auctionsFetchStatus.errorMessage),1)):Object(a["e"])("",!0)]),Object(a["g"])("details",f,[Object(a["g"])("summary",null,[Object(a["g"])("h3",null,"Color Scheme: "+Object(a["F"])(n.colorSchemeLabel),1)]),Object(a["g"])("div",m,[h,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.colorSchemeOptions,(function(e){return Object(a["v"])(),Object(a["f"])("div",{key:e.id},[Object(a["g"])("label",null,[Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.colorScheme.colorBy=e}),type:"radio",name:"colorBy",value:e.id},null,8,v),[[a["I"],n.colorScheme.colorBy]]),Object(a["i"])(" "+Object(a["F"])(e.label),1)])])})),128))]),"price"===n.colorScheme.colorBy?(Object(a["v"])(),Object(a["f"])("div",p,[(Object(a["v"])(),Object(a["f"])(a["a"],null,Object(a["B"])(["humble","reasonable","spacious"],(function(e){return Object(a["g"])("div",{key:e,style:{"margin-bottom":"20px"}},[Object(a["g"])("h4",g,Object(a["F"])(e)+": ",1),Object(a["g"])("div",y,[Object(a["g"])("label",null,[S,Object(a["O"])(Object(a["g"])("select",{"onUpdate:modelValue":function(t){return n.colorScheme.priceScaleConfigBySize[e].scaleName=t}},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.SCALE_NAMES,(function(e){return Object(a["v"])(),Object(a["f"])("option",{key:e,value:e},Object(a["F"])(e),9,P)})),128))],8,B),[[a["J"],n.colorScheme.priceScaleConfigBySize[e].scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["q"])({background:n.SCALE_GRADIENTS[n.colorScheme.priceScaleConfigBySize[e].scaleName]})},null,4)]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[x,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return n.colorScheme.priceScaleConfigBySize[e].min=t},type:"number",class:"range-input"},null,8,F),[[a["K"],n.colorScheme.priceScaleConfigBySize[e].min]])]),Object(a["g"])("label",null,[k,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return n.colorScheme.priceScaleConfigBySize[e].max=t},type:"number",class:"range-input"},null,8,w),[[a["K"],n.colorScheme.priceScaleConfigBySize[e].max]])])])])})),64))])):Object(a["e"])("",!0),"bidder"===n.colorScheme.colorBy?(Object(a["v"])(),Object(a["f"])("div",A,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[C,Object(a["O"])(Object(a["g"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.colorScheme.bidder.scaleName=e})},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.SCALE_NAMES,(function(e){return Object(a["v"])(),Object(a["f"])("option",{key:e,value:e},Object(a["F"])(e),9,V)})),128))],512),[[a["J"],n.colorScheme.bidder.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["q"])({background:n.SCALE_GRADIENTS[n.colorScheme.bidder.scaleName]})},null,4)])])):Object(a["e"])("",!0),"whaleGhst"===n.colorScheme.colorBy?(Object(a["v"])(),Object(a["f"])("div",D,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[I,Object(a["O"])(Object(a["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.colorScheme.whaleGhst.scaleName=e})},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.SCALE_NAMES,(function(e){return Object(a["v"])(),Object(a["f"])("option",{key:e,value:e},Object(a["F"])(e),9,N)})),128))],512),[[a["J"],n.colorScheme.whaleGhst.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["q"])({background:n.SCALE_GRADIENTS[n.colorScheme.whaleGhst.scaleName]})},null,4),Object(a["g"])("div",T,[Object(a["g"])("label",null,[L,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.colorScheme.whaleGhst.min=e}),type:"number",class:"range-input"},null,512),[[a["K"],n.colorScheme.whaleGhst.min]])]),Object(a["g"])("label",null,[E,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.colorScheme.whaleGhst.max=e}),type:"number",class:"range-input"},null,512),[[a["K"],n.colorScheme.whaleGhst.max]])])])])])):Object(a["e"])("",!0),"whalePx"===n.colorScheme.colorBy?(Object(a["v"])(),Object(a["f"])("div",G,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[U,Object(a["O"])(Object(a["g"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.colorScheme.whalePx.scaleName=e})},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.SCALE_NAMES,(function(e){return Object(a["v"])(),Object(a["f"])("option",{key:e,value:e},Object(a["F"])(e),9,M)})),128))],512),[[a["J"],n.colorScheme.whalePx.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["q"])({background:n.SCALE_GRADIENTS[n.colorScheme.whalePx.scaleName]})},null,4),Object(a["g"])("div",R,[Object(a["g"])("label",null,[_,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.colorScheme.whalePx.min=e}),type:"number",class:"range-input"},null,512),[[a["K"],n.colorScheme.whalePx.min]])]),Object(a["g"])("label",null,[z,Object(a["O"])(Object(a["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.colorScheme.whalePx.max=e}),type:"number",class:"range-input"},null,512),[[a["K"],n.colorScheme.whalePx.max]])])])])])):Object(a["e"])("",!0)]),Object(a["j"])(fe,{modelValue:n.mapConfig,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.mapConfig=e})},null,8,["modelValue"]),Object(a["j"])(me,{modelValue:n.filters.size,"onUpdate:modelValue":t[10]||(t[10]=function(e){return n.filters.size=e})},null,8,["modelValue"]),Object(a["j"])(he,{modelValue:n.filters.walls,"onUpdate:modelValue":t[11]||(t[11]=function(e){return n.filters.walls=e})},null,8,["modelValue"]),Object(a["j"])(ve,{districts:n.auctionInfo.districts,modelValue:n.filters.districts,"onUpdate:modelValue":t[12]||(t[12]=function(e){return n.filters.districts=e})},null,8,["districts","modelValue"]),Object(a["j"])(pe,{modelValue:n.filters.roads,"onUpdate:modelValue":t[13]||(t[13]=function(e){return n.filters.roads=e})},null,8,["modelValue"]),Object(a["j"])(ge,{modelValue:n.filters.boosts,"onUpdate:modelValue":t[14]||(t[14]=function(e){return n.filters.boosts=e})},null,8,["modelValue"]),Object(a["j"])(ye,{modelValue:n.filters.bidders,"onUpdate:modelValue":t[15]||(t[15]=function(e){return n.filters.bidders=e})},null,8,["modelValue"]),Object(a["j"])(Se,{modelValue:n.filters.parcelIds,"onUpdate:modelValue":t[16]||(t[16]=function(e){return n.filters.parcelIds=e})},null,8,["modelValue"]),Object(a["j"])(Be,{modelValue:n.filters.parcelNames,"onUpdate:modelValue":t[17]||(t[17]=function(e){return n.filters.parcelNames=e})},null,8,["modelValue"])]),Object(a["g"])("section",q,[n.selectedParcel?(Object(a["v"])(),Object(a["f"])("div",K,[Object(a["g"])("button",{type:"button",style:{float:"right"},onClick:t[18]||(t[18]=function(e){return n.selectedParcelId=null})}," Close "),X,Object(a["i"])(" ID: "+Object(a["F"])(n.selectedParcel.id)+" ",1),H,Object(a["i"])("Name: "+Object(a["F"])(n.selectedParcel.parcelHash)+" ",1),J,Object(a["i"])("Size: "+Object(a["F"])(n.selectedParcel.sizeLabel)+" ",1),W,Object(a["i"])("District: "+Object(a["F"])(n.selectedParcel.district)+" ",1),null!==(e=n.selectedParcel.auction)&&void 0!==e&&e.hasAuction?(Object(a["v"])(),Object(a["f"])("div",$,[Object(a["g"])("a",{href:"https://gotchiverse.io/auction?tokenId=".concat(n.selectedParcel.id),target:"_blank"}," Last bid: "+Object(a["F"])(n.selectedParcel.auction.highestBidGhst)+" GHST ",9,Q),Y,Z,Object(a["j"])(Pe,{address:n.selectedParcel.auction.highestBidder},null,8,["address"])])):Object(a["e"])("",!0),Object(a["g"])("div",null,[ee,Object(a["g"])("div",te,[n.selectedParcel.hasBoost?(Object(a["v"])(),Object(a["f"])(a["a"],{key:0},["0"!==n.selectedParcel.fudBoost?(Object(a["v"])(),Object(a["f"])("div",ce," FUD: "+Object(a["F"])(n.selectedParcel.fudBoost),1)):Object(a["e"])("",!0),"0"!==n.selectedParcel.fomoBoost?(Object(a["v"])(),Object(a["f"])("div",ae," FOMO: "+Object(a["F"])(n.selectedParcel.fomoBoost),1)):Object(a["e"])("",!0),"0"!==n.selectedParcel.alphaBoost?(Object(a["v"])(),Object(a["f"])("div",ne," ALPHA: "+Object(a["F"])(n.selectedParcel.alphaBoost),1)):Object(a["e"])("",!0),"0"!==n.selectedParcel.kekBoost?(Object(a["v"])(),Object(a["f"])("div",le," KEK: "+Object(a["F"])(n.selectedParcel.kekBoost),1)):Object(a["e"])("",!0)],64)):(Object(a["v"])(),Object(a["f"])(a["a"],{key:1},[ie],64))])])])):Object(a["e"])("",!0)],512)]})),main:Object(a["N"])((function(e){var t=e.viewMode;return[Object(a["O"])(Object(a["j"])(xe,{viewBox:n.auctionInfo.display.viewBox,aspectRatio:n.auctionInfo.display.aspectRatio,mapConfig:n.mapConfig,parcels:n.parcelsToDisplay,parcelsMatchingFilters:n.parcelsMatchingFilters,parcelColors:n.parcelColors,selectedParcel:n.selectedParcel,"onClick:parcel":n.onClickParcel},null,8,["viewBox","aspectRatio","mapConfig","parcels","parcelsMatchingFilters","parcelColors","selectedParcel","onClick:parcel"]),[[a["L"],"map"===t]]),"list"===t?(Object(a["v"])(),Object(a["f"])("div",re,[n.listParcelsToDisplay.length?(Object(a["v"])(),Object(a["f"])(a["a"],{key:1},[Object(a["i"])(Object(a["F"])(n.listParcelsToDisplay.length)+" parcels found. Cheapest first: ",1),Object(a["g"])("ul",ue,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(n.listParcelsToDisplay,(function(e){return Object(a["v"])(),Object(a["f"])("li",{key:e.id},[Object(a["g"])("a",{href:"#",onClick:Object(a["P"])((function(t){return n.onClickParcel(e)}),["prevent"])},Object(a["F"])(e.id),9,se),Object(a["i"])(" "+Object(a["F"])(e.parcelHash)+" "+Object(a["F"])(e.sizeLabel)+" district "+Object(a["F"])(e.district)+" ",1),Object(a["g"])("a",{href:"https://gotchiverse.io/auction?tokenId=".concat(e.id),target:"_blank"}," Last bid: "+Object(a["F"])(n.parcelAuctions[e.id].highestBidGhst)+" GHST ",9,be)])})),128))])],64)):(Object(a["v"])(),Object(a["f"])(a["a"],{key:0},[oe],64))])):Object(a["e"])("",!0)]})),_:1})]})),_:1})}var Oe=c("b85c"),je=c("3835"),fe=c("5530"),me=c("2909"),he=(c("d81d"),c("7db0"),c("d3b7"),c("4de4"),c("07ac"),c("caad"),c("2532"),c("c1f9"),c("4e82"),c("4fad"),c("901e")),ve=c.n(he),pe=c("9220"),ge=c("f216"),ye=c("d4bd"),Se=c("9e37"),Be=c("12b9"),Pe=c("5789"),xe=c("e004");function Fe(e,t,c,n,l,i){return Object(a["v"])(),Object(a["f"])("span",null,Object(a["F"])(n.preciseDate),1)}var ke=c("b166"),we={props:{date:{type:Date,required:!0}},setup:function(e){var t=Object(a["b"])((function(){return Object(ke["a"])(e.date,"PPP ppp")}));return{preciseDate:t}}},Ae=c("6b0d"),Ce=c.n(Ae);const Ve=Ce()(we,[["render",Fe]]);var De=Ve,Ie=c("d76c"),Ne=c("fe8e"),Te=c("8af4"),Le=c("23df"),Ee=c("4a49"),Ge=c("b89e"),Ue=c("78a7"),Me=c("8dd4"),Re=c("8fa9"),_e=c("3d41"),ze=function(e){return Object(a["y"])("data-v-a05abe32"),e=e(),Object(a["w"])(),e},qe={class:"filter-container"},Ke=ze((function(){return Object(a["g"])("summary",null,[Object(a["g"])("h3",null,"Filter by Bidder")],-1)})),Xe=ze((function(){return Object(a["g"])("div",null," Bidder addresses ",-1)}));function He(e,t,c,n,l,i){var r=Object(a["D"])("TextareaList");return Object(a["v"])(),Object(a["f"])("details",qe,[Ke,Object(a["g"])("label",null,[Xe,Object(a["j"])(r,{class:"addresses-textarea",modelValue:c.modelValue,delimiterRegexp:/[^x0-9a-f]+/,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["modelValue"])])])}var Je=c("3b4e"),We=function(e,t){return null!==t&&void 0!==t&&t.length?function(c){var a,n=null===(a=e[c.id])||void 0===a?void 0:a.highestBidder;return n&&t.includes(n)}:function(){return!0}},$e={components:{TextareaList:Je["a"]},props:{modelValue:{type:Array,default:function(){return[]}}}};c("6d16");const Qe=Ce()($e,[["render",He],["__scopeId","data-v-a05abe32"]]);var Ye=Qe,Ze={components:{PrereqParcels:Be["a"],LayoutMapWithFilters:Pe["a"],CitaadelMap:Ne["a"],EthAddress:xe["a"],DatePrecise:De,LoadingSpinner:Ie["a"],MapConfig:Te["a"],FilterSize:Le["b"],FilterWalls:Ee["a"],FilterDistricts:Ge["b"],FilterRoads:Ue["a"],FilterParcelIds:Me["a"],FilterParcelNames:Re["a"],FilterBoosts:_e["a"],FilterBidders:Ye},props:{auctionId:{type:String,default:"1"}},setup:function(e){var t=Object(a["A"])(null),c=Object(a["A"])(null),n=Object(pe["a"])(),l=n.parcelsById,i=Object(ge["a"])(e.auctionId),r=i.auctionInfo,o=i.auctionsByParcelId,u=i.mostRecentAuction,s=i.canSubmitFetch,b=i.fetchStatus,d=i.fetchAuctions,O=Object(a["b"])((function(){return u.value?new Date(1e3*u.value.lastBidTime):null})),j=Object(a["A"])(Object(Te["b"])()),f=Object(a["A"])({size:Object(me["a"])(Le["a"]),districts:Object(Ge["c"])(r.districts),roads:Object(Ue["b"])(),walls:ye["a"].map((function(e){return e.id})),boosts:Object(_e["b"])(),bidders:[],parcelIds:[],parcelNames:[]}),m=[{id:"price",label:"Parcel Price (GHST)"},{id:"bidder",label:"Bidder Address"},{id:"whaleGhst",label:"Whales (total GHST spent)"},{id:"whalePx",label:"Whales (total pixel area)"}],h=Object(a["A"])({colorBy:"price",priceScaleConfigBySize:{humble:{min:88,max:500,scaleName:"viridis"},reasonable:{min:180,max:1e3,scaleName:"viridis"},spacious:{min:1025,max:3e3,scaleName:"viridis"}},bidder:{scaleName:"rainbow",min:0,max:parseInt("0xffffffffffffffffffffffffffffffffffffffff",16)},whaleGhst:{scaleName:"inferno",min:0,max:1e5},whalePx:{scaleName:"inferno",min:0,max:75e3}}),v=Object(a["b"])((function(){var e;return null===(e=m.find((function(e){return e.id===h.value.colorBy})))||void 0===e?void 0:e.label})),p=Object(a["b"])((function(){var e={},t=h.value.priceScaleConfigBySize;for(var c in t){var a=t[c];e[c]=Object(Se["c"])(a)}return e})),g=Object(a["b"])((function(){return Object(Se["c"])(h.value.bidder)})),y=Object(a["b"])((function(){return Object(Se["c"])(h.value.whaleGhst)})),S=Object(a["b"])((function(){return Object(Se["c"])(h.value.whalePx)})),B=Object(a["b"])((function(){var e=Object.values(l.value).filter((function(e){return r.districts.includes(e.district)&&("1"!==e.district||e.coordinateX-0>r.district1Bounds.minX&&e.coordinateX-0<r.district1Bounds.maxX)}));return Object.fromEntries(e.map((function(e){var t=o.value[e.id],c=(null===t||void 0===t?void 0:t.highestBid)-0,a=(null===t||void 0===t?void 0:t.highestBidGhst)||"";return[e.id,{hasAuction:!!t,highestBid:c,highestBidGhst:a,highestBidder:null===t||void 0===t?void 0:t.highestBidder}]})))})),P=Object(a["b"])((function(){var e=Object.values(l.value).filter((function(e){var t;return null===(t=B.value[e.id])||void 0===t?void 0:t.hasAuction}));return e})),x=Object(a["b"])((function(){var e=h.value.colorBy,t=function(){return"white"};"price"===e?t=function(e){var t=p.value[e.sizeLabel];return t?t(B.value[e.id].highestBidGhst-0):"white"}:"bidder"===e?t=function(e){return g.value(parseInt(B.value[e.id].highestBidder,16))}:"whaleGhst"===e?t=function(e){return y.value(C.value[B.value[e.id].highestBidder]||0)}:"whalePx"===e&&(t=function(e){return S.value(V.value[B.value[e.id].highestBidder]||0)});var c=Object.fromEntries(P.value.map((function(e){return[e.id,B.value[e.id].hasAuction?t(e):"white"]})));return c})),F=Object(a["b"])((function(){var e=Object(Me["b"])(f.value.parcelIds),t=Object(Re["b"])(f.value.parcelNames),c=Object(Le["c"])(f.value.size),a=Object(Ee["b"])(f.value.walls),n=Object(Ge["d"])(r.districts,f.value.districts),l=Object(Ue["c"])(f.value.roads),i=Object(_e["c"])(f.value.boosts),o=We(B.value,f.value.bidders),u=[e,t,o,c,a,n,l,i],s=Object.fromEntries(P.value.map((function(e){for(var t=!0,c=0;t&&c<u.length;c++)u[c](e)||(t=!1);return[e.id,t]})));return s})),k=Object(a["b"])((function(){var e=P.value.filter((function(e){return F.value[e.id]&&B.value[e.id].hasAuction}));return e.sort((function(e,t){var c=B.value[e.id],a=B.value[t.id];return c.highestBid===a.highestBid?0:c.highestBid<a.highestBid?-1:1})),e})),w=function(e){c.value=e.id},A=Object(a["b"])((function(){return c.value?Object(fe["a"])(Object(fe["a"])({},l.value[c.value]),{},{auction:B.value[c.value]}):null})),C=Object(a["b"])((function(){for(var e={},t=0,c=Object.values(B.value);t<c.length;t++){var a=c[t];if(a.hasAuction){var n=a.highestBidder;e[n]||(e[n]=new ve.a(0)),e[n]=e[n].plus(new ve.a(a.highestBidGhst))}}return e.undefined=new ve.a(0),Object.fromEntries(Object.entries(e).map((function(e){var t=Object(je["a"])(e,2),c=t[0],a=t[1];return[c,a.toNumber()]})))})),V=Object(a["b"])((function(){var e,t={},c={humble:64,reasonable:256,spacious:2048},a=Object(Oe["a"])(P.value);try{for(a.s();!(e=a.n()).done;){var n=e.value,l=B.value[n.id],i=l.highestBidder;t[i]||(t[i]=0),t[i]+=c[n.sizeLabel]||0}}catch(r){a.e(r)}finally{a.f()}return t.undefined=0,t}));return{auctionInfo:r,parcelDetailsRef:t,parcelsToDisplay:P,parcelsMatchingFilters:F,parcelColors:x,parcelAuctions:B,listParcelsToDisplay:k,onClickParcel:w,selectedParcelId:c,selectedParcel:A,mostRecentAuction:u,mostRecentAuctionDate:O,canSubmitAuctionsFetch:s,fetchAuctions:d,auctionsFetchStatus:b,SCALE_NAMES:Se["b"],SCALE_GRADIENTS:Se["a"],mapConfig:j,filters:f,colorSchemeOptions:m,colorScheme:h,colorSchemeLabel:v}}};c("4a2b");const et=Ce()(Ze,[["render",de],["__scopeId","data-v-22cd0dba"]]);var tt=et,ct={components:{LandAuction:tt},props:{auctionId:{type:String,default:"1"}}};const at=Ce()(ct,[["render",n]]);t["default"]=at},efee:function(e,t,c){},f216:function(e,t,c){"use strict";c.d(t,"a",(function(){return f}));var a=c("1da1"),n=c("3835"),l=c("5530"),i=c("b85c"),r=(c("96cf"),c("d3b7"),c("25f0"),c("07ac"),c("3ca3"),c("ddb0"),c("e9c4"),c("99af"),c("7a23")),o=c("2e7a"),u=c("901e"),s=c.n(u),b="https://api.thegraph.com/subgraphs/name/aavegotchi/aavegotchi-realm-matic",d=1e3,O={1:{id:1,days:"28 - 31 Oct 2021",startTime:16354188e5,endTime:16357104e5,districts:["1","2","3","4","5","14","15","16","17","18","19","20","21","22","39","40","41","42","43"],district1Bounds:{minX:3160,maxX:4235},display:{viewBox:"0 0 5000 5500",aspectRatio:"10 / 8"}},2:{id:2,days:"2-5 Dec 2021",startTime:16384464e5,endTime:16387344e5,districts:["1","7","8","9","10","11","12","27","28","29","30"],district1Bounds:{minX:5200,maxX:6336},display:{viewBox:"6600 1000 2500 4400",aspectRatio:"10 / 8"}}},j={};function f(e){if(j[e])return j[e];var t=O[e];if(t){var u=Object(r["A"])({}),f=function(e){var t,c=Object(i["a"])(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;u.value[a.tokenId]=Object(l["a"])(Object(l["a"])({},a),{},{highestBidGhst:new s.a(a.highestBid).dividedBy(1e18).toString()})}}catch(n){c.e(n)}finally{c.f()}},m=Object(r["b"])((function(){for(var e=null,t=0,c=Object.values(u.value);t<c.length;t++){var a=c[t];e?a.lastBidTime-0>e.lastBidTime-0&&(e=a):e=a}return e})),h=Object(o["a"])(),v=h.status,p=h.setLoading,g=Object(r["b"])((function(){return!v.value.loading})),y=function(){var t=p(),a=Object(n["a"])(t,3),l=a[0],i=a[1],r=a[2];c("b6b3")("./auction"+e+".json").then((function(e){var t=e.default;l()?console.log("Stale request, ignoring"):(u.value=t,i())})).catch((function(e){console.error(e),r("There was an error fetching parcels")}))},S=function(){var e=p(),c=Object(n["a"])(e,3),l=c[0],i=c[1],r=c[2],o=function e(){var c,n=(null===(c=m.value)||void 0===c?void 0:c.lastBidTime)||0,o=t.startTime/1e3,u=t.endTime/1e3;fetch(b,{method:"POST",body:JSON.stringify({query:"{\n            auctions(first: ".concat(d,', orderBy: lastBidTime, where: { startTime_gt: "').concat(o,'", endTime_lt: "').concat(u,'", lastBidTime_gte: "').concat(n,'" }) {\n              id\n              orderId\n              type\n              tokenId\n              highestBid\n              highestBidder\n              lastBidTime\n              totalBids\n              startTime\n              endTime\n              claimed\n            }\n          }')})}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(c){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!l()){t.next=3;break}return console.log("Stale request, ignoring"),t.abrupt("return");case 3:if(c.ok){t.next=6;break}return r("There was an error fetching auctions"),t.abrupt("return");case 6:return t.next=8,c.json();case 8:if(n=t.sent,null===(a=n.data)||void 0===a||!a.auctions){t.next=17;break}if(f(n.data.auctions),!(n.data.auctions.length<d)){t.next=14;break}return i(),t.abrupt("return");case 14:e(),t.next=18;break;case 17:r("Unexpected response");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e),r("There was an error fetching parcels")}))};o()};return j[e]={auctionInfo:t,auctionsByParcelId:u,mostRecentAuction:m,canSubmitFetch:g,fetchStatus:v,fetchAuctions:S},y(),j[e]}console.error("Invalid auctionId provided to useAuctions")}}}]);
//# sourceMappingURL=land-auction.e51a1253.js.map