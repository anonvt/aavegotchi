(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["land-auction"],{"119f":function(e,t,c){"use strict";c("6087")},6087:function(e,t,c){},"6d16":function(e,t,c){"use strict";c("efee")},b6b3:function(e,t,c){var a={"./auction1.json":["3ebe","auctionjson0"],"./auction2.json":["423d","auctionjson1"]};function l(e){if(!c.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],l=t[0];return c.e(t[1]).then((function(){return c.t(l,3)}))}l.keys=function(){return Object.keys(a)},l.id="b6b3",e.exports=l},e6ad:function(e,t,c){"use strict";c.r(t);var a=c("7a23");function l(e,t,c,l,n,i){var r=Object(a["C"])("LandAuction");return Object(a["u"])(),Object(a["d"])(r,{key:c.auctionId,auctionId:c.auctionId},null,8,["auctionId"])}var n=function(e){return Object(a["x"])("data-v-29eb1422"),e=e(),Object(a["v"])(),e},i={style:{"margin-bottom":"10px"}},r={key:0,style:{"margin-bottom":"20px","font-style":"italic","font-size":"0.95em"}},o=Object(a["h"])(" Last auction data fetched: "),u=n((function(){return Object(a["g"])("br",null,null,-1)})),s={style:{margin:"10px 0 20px 0"}},d=["disabled"],b={key:0},O=Object(a["h"])(" loading auctions... "),j={key:1},f={class:"config-details"},h={style:{"margin-bottom":"10px"}},p=Object(a["h"])(" Color by: "),m=["value"],v={key:0},g={style:{"text-transform":"capitalize"}},y={style:{"margin-bottom":"10px"}},S=Object(a["h"])(" Color Scheme: "),B=["onUpdate:modelValue"],x=["value"],C=Object(a["h"])(" Min: "),P=["onUpdate:modelValue"],k=Object(a["h"])(" Max: "),A=["onUpdate:modelValue"],w={key:1},E=Object(a["h"])(" Color Scheme: "),N=["value"],I={key:2},V=Object(a["h"])(" Color Scheme: "),T=["value"],M={style:{"margin-top":"8px"}},D=Object(a["h"])(" Min: "),F=Object(a["h"])(" Max: "),L={key:3},z=Object(a["h"])(" Color Scheme: "),G=["value"],U={style:{"margin-top":"8px"}},_=Object(a["h"])(" Min: "),R=Object(a["h"])(" Max: "),J={ref:"parcelDetailsRef"},H={key:0,class:"selected-parcel-details"},X=n((function(){return Object(a["g"])("h2",null,"Selected Parcel details:",-1)})),q=n((function(){return Object(a["g"])("br",null,null,-1)})),W=n((function(){return Object(a["g"])("br",null,null,-1)})),K=n((function(){return Object(a["g"])("br",null,null,-1)})),$={key:0},Q=["href"],Y=n((function(){return Object(a["g"])("br",null,null,-1)})),Z=Object(a["h"])("Bidder: "),ee=Object(a["h"])(" Boosts: "),te={style:{"margin-left":"10px"}},ce={key:0},ae={key:1},le={key:2},ne={key:3},ie=Object(a["h"])(" None "),re={key:0},oe=Object(a["h"])(" No parcels found. "),ue={class:"parcels-list"},se=["onClick"],de=["href"];function be(e,t,c,l,n,be){var Oe=Object(a["C"])("DatePrecise"),je=Object(a["C"])("LoadingSpinner"),fe=Object(a["C"])("MapConfigDisplayMode"),he=Object(a["C"])("FilterSize"),pe=Object(a["C"])("FilterWalls"),me=Object(a["C"])("FilterDistricts"),ve=Object(a["C"])("FilterBoosts"),ge=Object(a["C"])("FilterBidders"),ye=Object(a["C"])("FilterParcelIds"),Se=Object(a["C"])("FilterParcelNames"),Be=Object(a["C"])("EthAddress"),xe=Object(a["C"])("CitaadelMap"),Ce=Object(a["C"])("LayoutMapWithFilters"),Pe=Object(a["C"])("PrereqParcels");return Object(a["u"])(),Object(a["d"])(Pe,null,{default:Object(a["M"])((function(){return[Object(a["i"])(Ce,null,{sidebar:Object(a["M"])((function(){var e;return[Object(a["g"])("section",null,[Object(a["g"])("h2",i," Auction "+Object(a["E"])(c.auctionId)+" ("+Object(a["E"])(l.auctionInfo.days)+") ",1),l.mostRecentAuction?(Object(a["u"])(),Object(a["f"])("div",r,[o,u,Object(a["h"])(" parcel #"+Object(a["E"])(l.mostRecentAuction.tokenId)+", ",1),Object(a["i"])(Oe,{date:l.mostRecentAuctionDate},null,8,["date"])])):Object(a["e"])("",!0),Object(a["g"])("div",s,[Object(a["g"])("button",{type:"button",disabled:!l.canSubmitAuctionsFetch,class:"fetch-auctions",style:{display:"none"},onClick:t[0]||(t[0]=function(){return l.fetchAuctions&&l.fetchAuctions.apply(l,arguments)})}," Fetch Latest ",8,d),l.auctionsFetchStatus.loading?(Object(a["u"])(),Object(a["f"])("span",b,[Object(a["i"])(je,{style:{position:"relative",top:"2px","margin-right":"2px"}}),O])):Object(a["e"])("",!0),l.auctionsFetchStatus.error?(Object(a["u"])(),Object(a["f"])("span",j," Error loading auctions: "+Object(a["E"])(l.auctionsFetchStatus.errorMessage),1)):Object(a["e"])("",!0)]),Object(a["g"])("details",f,[Object(a["g"])("summary",null,[Object(a["g"])("h3",null,"Color Scheme: "+Object(a["E"])(l.colorSchemeLabel),1)]),Object(a["g"])("div",h,[p,(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.colorSchemeOptions,(function(e){return Object(a["u"])(),Object(a["f"])("div",{key:e.id},[Object(a["g"])("label",null,[Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.colorScheme.colorBy=e}),type:"radio",name:"colorBy",value:e.id},null,8,m),[[a["H"],l.colorScheme.colorBy]]),Object(a["h"])(" "+Object(a["E"])(e.label),1)])])})),128))]),"price"===l.colorScheme.colorBy?(Object(a["u"])(),Object(a["f"])("div",v,[(Object(a["u"])(),Object(a["f"])(a["a"],null,Object(a["A"])(["humble","reasonable","spacious"],(function(e){return Object(a["g"])("div",{key:e,style:{"margin-bottom":"20px"}},[Object(a["g"])("h4",g,Object(a["E"])(e)+": ",1),Object(a["g"])("div",y,[Object(a["g"])("label",null,[S,Object(a["N"])(Object(a["g"])("select",{"onUpdate:modelValue":function(t){return l.colorScheme.priceScaleConfigBySize[e].scaleName=t}},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.SCALE_NAMES,(function(e){return Object(a["u"])(),Object(a["f"])("option",{key:e,value:e},Object(a["E"])(e),9,x)})),128))],8,B),[[a["I"],l.colorScheme.priceScaleConfigBySize[e].scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["p"])({background:l.SCALE_GRADIENTS[l.colorScheme.priceScaleConfigBySize[e].scaleName]})},null,4)]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[C,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return l.colorScheme.priceScaleConfigBySize[e].min=t},type:"number",class:"range-input"},null,8,P),[[a["J"],l.colorScheme.priceScaleConfigBySize[e].min]])]),Object(a["g"])("label",null,[k,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return l.colorScheme.priceScaleConfigBySize[e].max=t},type:"number",class:"range-input"},null,8,A),[[a["J"],l.colorScheme.priceScaleConfigBySize[e].max]])])])])})),64))])):Object(a["e"])("",!0),"bidder"===l.colorScheme.colorBy?(Object(a["u"])(),Object(a["f"])("div",w,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[E,Object(a["N"])(Object(a["g"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.colorScheme.bidder.scaleName=e})},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.SCALE_NAMES,(function(e){return Object(a["u"])(),Object(a["f"])("option",{key:e,value:e},Object(a["E"])(e),9,N)})),128))],512),[[a["I"],l.colorScheme.bidder.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["p"])({background:l.SCALE_GRADIENTS[l.colorScheme.bidder.scaleName]})},null,4)])])):Object(a["e"])("",!0),"whaleGhst"===l.colorScheme.colorBy?(Object(a["u"])(),Object(a["f"])("div",I,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[V,Object(a["N"])(Object(a["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.colorScheme.whaleGhst.scaleName=e})},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.SCALE_NAMES,(function(e){return Object(a["u"])(),Object(a["f"])("option",{key:e,value:e},Object(a["E"])(e),9,T)})),128))],512),[[a["I"],l.colorScheme.whaleGhst.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["p"])({background:l.SCALE_GRADIENTS[l.colorScheme.whaleGhst.scaleName]})},null,4),Object(a["g"])("div",M,[Object(a["g"])("label",null,[D,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.colorScheme.whaleGhst.min=e}),type:"number",class:"range-input"},null,512),[[a["J"],l.colorScheme.whaleGhst.min]])]),Object(a["g"])("label",null,[F,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.colorScheme.whaleGhst.max=e}),type:"number",class:"range-input"},null,512),[[a["J"],l.colorScheme.whaleGhst.max]])])])])])):Object(a["e"])("",!0),"whalePx"===l.colorScheme.colorBy?(Object(a["u"])(),Object(a["f"])("div",L,[Object(a["g"])("div",null,[Object(a["g"])("label",null,[z,Object(a["N"])(Object(a["g"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return l.colorScheme.whalePx.scaleName=e})},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.SCALE_NAMES,(function(e){return Object(a["u"])(),Object(a["f"])("option",{key:e,value:e},Object(a["E"])(e),9,G)})),128))],512),[[a["I"],l.colorScheme.whalePx.scaleName]])]),Object(a["g"])("div",{class:"scale-color-display",style:Object(a["p"])({background:l.SCALE_GRADIENTS[l.colorScheme.whalePx.scaleName]})},null,4),Object(a["g"])("div",U,[Object(a["g"])("label",null,[_,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return l.colorScheme.whalePx.min=e}),type:"number",class:"range-input"},null,512),[[a["J"],l.colorScheme.whalePx.min]])]),Object(a["g"])("label",null,[R,Object(a["N"])(Object(a["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return l.colorScheme.whalePx.max=e}),type:"number",class:"range-input"},null,512),[[a["J"],l.colorScheme.whalePx.max]])])])])])):Object(a["e"])("",!0)]),Object(a["i"])(fe,{modelValue:l.mapConfig.displayMode,"onUpdate:modelValue":t[9]||(t[9]=function(e){return l.mapConfig.displayMode=e})},null,8,["modelValue"]),Object(a["i"])(he,{modelValue:l.filters.size,"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.filters.size=e})},null,8,["modelValue"]),Object(a["i"])(pe,{modelValue:l.filters.walls,"onUpdate:modelValue":t[11]||(t[11]=function(e){return l.filters.walls=e})},null,8,["modelValue"]),Object(a["i"])(me,{districts:l.auctionInfo.districts,modelValue:l.filters.districts,"onUpdate:modelValue":t[12]||(t[12]=function(e){return l.filters.districts=e})},null,8,["districts","modelValue"]),Object(a["i"])(ve,{modelValue:l.filters.boosts,"onUpdate:modelValue":t[13]||(t[13]=function(e){return l.filters.boosts=e})},null,8,["modelValue"]),Object(a["i"])(ge,{modelValue:l.filters.bidders,"onUpdate:modelValue":t[14]||(t[14]=function(e){return l.filters.bidders=e})},null,8,["modelValue"]),Object(a["i"])(ye,{modelValue:l.filters.parcelIds,"onUpdate:modelValue":t[15]||(t[15]=function(e){return l.filters.parcelIds=e})},null,8,["modelValue"]),Object(a["i"])(Se,{modelValue:l.filters.parcelNames,"onUpdate:modelValue":t[16]||(t[16]=function(e){return l.filters.parcelNames=e})},null,8,["modelValue"])]),Object(a["g"])("section",J,[l.selectedParcel?(Object(a["u"])(),Object(a["f"])("div",H,[Object(a["g"])("button",{type:"button",style:{float:"right"},onClick:t[17]||(t[17]=function(e){return l.selectedParcelId=null})}," Close "),X,Object(a["h"])(" ID: "+Object(a["E"])(l.selectedParcel.id)+" ",1),q,Object(a["h"])("Name: "+Object(a["E"])(l.selectedParcel.parcelHash)+" ",1),W,Object(a["h"])("Size: "+Object(a["E"])(l.selectedParcel.sizeLabel)+" ",1),K,Object(a["h"])("District: "+Object(a["E"])(l.selectedParcel.district)+" ",1),null!==(e=l.selectedParcel.auction)&&void 0!==e&&e.hasAuction?(Object(a["u"])(),Object(a["f"])("div",$,[Object(a["g"])("a",{href:"https://gotchiverse.io/auction?tokenId=".concat(l.selectedParcel.id),target:"_blank"}," Last bid: "+Object(a["E"])(l.selectedParcel.auction.highestBidGhst)+" GHST ",9,Q),Y,Z,Object(a["i"])(Be,{address:l.selectedParcel.auction.highestBidder},null,8,["address"])])):Object(a["e"])("",!0),Object(a["g"])("div",null,[ee,Object(a["g"])("div",te,[l.selectedParcel.hasBoost?(Object(a["u"])(),Object(a["f"])(a["a"],{key:0},["0"!==l.selectedParcel.fudBoost?(Object(a["u"])(),Object(a["f"])("div",ce," FUD: "+Object(a["E"])(l.selectedParcel.fudBoost),1)):Object(a["e"])("",!0),"0"!==l.selectedParcel.fomoBoost?(Object(a["u"])(),Object(a["f"])("div",ae," FOMO: "+Object(a["E"])(l.selectedParcel.fomoBoost),1)):Object(a["e"])("",!0),"0"!==l.selectedParcel.alphaBoost?(Object(a["u"])(),Object(a["f"])("div",le," ALPHA: "+Object(a["E"])(l.selectedParcel.alphaBoost),1)):Object(a["e"])("",!0),"0"!==l.selectedParcel.kekBoost?(Object(a["u"])(),Object(a["f"])("div",ne," KEK: "+Object(a["E"])(l.selectedParcel.kekBoost),1)):Object(a["e"])("",!0)],64)):(Object(a["u"])(),Object(a["f"])(a["a"],{key:1},[ie],64))])])])):Object(a["e"])("",!0)],512)]})),main:Object(a["M"])((function(e){var t=e.viewMode;return[Object(a["N"])(Object(a["i"])(xe,{viewBox:l.auctionInfo.display.viewBox,aspectRatio:l.auctionInfo.display.aspectRatio,filterDisplayMode:l.mapConfig.displayMode,parcels:l.parcelsToDisplay,parcelsMatchingFilters:l.parcelsMatchingFilters,parcelColors:l.parcelColors,selectedParcel:l.selectedParcel,"onClick:parcel":l.onClickParcel},null,8,["viewBox","aspectRatio","filterDisplayMode","parcels","parcelsMatchingFilters","parcelColors","selectedParcel","onClick:parcel"]),[[a["K"],"map"===t]]),"list"===t?(Object(a["u"])(),Object(a["f"])("div",re,[l.listParcelsToDisplay.length?(Object(a["u"])(),Object(a["f"])(a["a"],{key:1},[Object(a["h"])(Object(a["E"])(l.listParcelsToDisplay.length)+" parcels found. Cheapest first: ",1),Object(a["g"])("ul",ue,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.listParcelsToDisplay,(function(e){return Object(a["u"])(),Object(a["f"])("li",{key:e.id},[Object(a["g"])("a",{href:"#",onClick:Object(a["O"])((function(t){return l.onClickParcel(e)}),["prevent"])},Object(a["E"])(e.id),9,se),Object(a["h"])(" "+Object(a["E"])(e.parcelHash)+" "+Object(a["E"])(e.sizeLabel)+" district "+Object(a["E"])(e.district)+" ",1),Object(a["g"])("a",{href:"https://gotchiverse.io/auction?tokenId=".concat(e.id),target:"_blank"}," Last bid: "+Object(a["E"])(l.parcelAuctions[e.id].highestBidGhst)+" GHST ",9,de)])})),128))])],64)):(Object(a["u"])(),Object(a["f"])(a["a"],{key:0},[oe],64))])):Object(a["e"])("",!0)]})),_:1})]})),_:1})}var Oe=c("b85c"),je=c("3835"),fe=c("5530"),he=c("2909"),pe=(c("d81d"),c("7db0"),c("d3b7"),c("4de4"),c("07ac"),c("caad"),c("2532"),c("c1f9"),c("4e82"),c("4fad"),c("901e")),me=c.n(pe),ve=c("9220"),ge=c("f216"),ye=c("d4bd"),Se=c("9e37"),Be=c("12b9"),xe=c("5789"),Ce=c("e004");function Pe(e,t,c,l,n,i){return Object(a["u"])(),Object(a["f"])("span",null,Object(a["E"])(l.preciseDate),1)}var ke=c("b166"),Ae={props:{date:{type:Date,required:!0}},setup:function(e){var t=Object(a["b"])((function(){return Object(ke["a"])(e.date,"PPP ppp")}));return{preciseDate:t}}},we=c("6b0d"),Ee=c.n(we);const Ne=Ee()(Ae,[["render",Pe]]);var Ie=Ne,Ve=c("d76c"),Te=c("fe8e"),Me=c("0020"),De=c("23df"),Fe=c("4a49"),Le=c("b89e"),ze=c("8dd4"),Ge=c("8fa9"),Ue=c("3d41"),_e=function(e){return Object(a["x"])("data-v-a05abe32"),e=e(),Object(a["v"])(),e},Re={class:"filter-container"},Je=_e((function(){return Object(a["g"])("summary",null,[Object(a["g"])("h3",null,"Filter by Bidder")],-1)})),He=_e((function(){return Object(a["g"])("div",null," Bidder addresses ",-1)}));function Xe(e,t,c,l,n,i){var r=Object(a["C"])("TextareaList");return Object(a["u"])(),Object(a["f"])("details",Re,[Je,Object(a["g"])("label",null,[He,Object(a["i"])(r,{class:"addresses-textarea",modelValue:c.modelValue,delimiterRegexp:/[^x0-9a-f]+/,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["modelValue"])])])}var qe=c("3b4e"),We=function(e,t){return null!==t&&void 0!==t&&t.length?function(c){var a,l=null===(a=e[c.id])||void 0===a?void 0:a.highestBidder;return l&&t.includes(l)}:function(){return!0}},Ke={components:{TextareaList:qe["a"]},props:{modelValue:{type:Array,default:function(){return[]}}}};c("6d16");const $e=Ee()(Ke,[["render",Xe],["__scopeId","data-v-a05abe32"]]);var Qe=$e,Ye={components:{PrereqParcels:Be["a"],LayoutMapWithFilters:xe["a"],CitaadelMap:Te["a"],EthAddress:Ce["a"],DatePrecise:Ie,LoadingSpinner:Ve["a"],MapConfigDisplayMode:Me["a"],FilterSize:De["b"],FilterWalls:Fe["a"],FilterDistricts:Le["b"],FilterParcelIds:ze["a"],FilterParcelNames:Ge["a"],FilterBoosts:Ue["a"],FilterBidders:Qe},props:{auctionId:{type:String,default:"1"}},setup:function(e){var t=Object(a["z"])(null),c=Object(a["z"])(null),l=Object(ve["a"])(),n=l.parcelsById,i=Object(ge["a"])(e.auctionId),r=i.auctionInfo,o=i.auctionsByParcelId,u=i.mostRecentAuction,s=i.canSubmitFetch,d=i.fetchStatus,b=i.fetchAuctions,O=Object(a["b"])((function(){return u.value?new Date(1e3*u.value.lastBidTime):null})),j=Object(a["z"])({displayMode:"outline"}),f=Object(a["z"])({size:Object(he["a"])(De["a"]),districts:Object(Le["c"])(r.districts),walls:ye["a"].map((function(e){return e.id})),boosts:Object(Ue["b"])(),bidders:[],parcelIds:[],parcelNames:[]}),h=[{id:"price",label:"Parcel Price (GHST)"},{id:"bidder",label:"Bidder Address"},{id:"whaleGhst",label:"Whales (total GHST spent)"},{id:"whalePx",label:"Whales (total pixel area)"}],p=Object(a["z"])({colorBy:"price",priceScaleConfigBySize:{humble:{min:88,max:500,scaleName:"viridis"},reasonable:{min:180,max:1e3,scaleName:"viridis"},spacious:{min:1025,max:3e3,scaleName:"viridis"}},bidder:{scaleName:"rainbow",min:0,max:parseInt("0xffffffffffffffffffffffffffffffffffffffff",16)},whaleGhst:{scaleName:"inferno",min:0,max:1e5},whalePx:{scaleName:"inferno",min:0,max:75e3}}),m=Object(a["b"])((function(){var e;return null===(e=h.find((function(e){return e.id===p.value.colorBy})))||void 0===e?void 0:e.label})),v=Object(a["b"])((function(){var e={},t=p.value.priceScaleConfigBySize;for(var c in t){var a=t[c];e[c]=Object(Se["c"])(a)}return e})),g=Object(a["b"])((function(){return Object(Se["c"])(p.value.bidder)})),y=Object(a["b"])((function(){return Object(Se["c"])(p.value.whaleGhst)})),S=Object(a["b"])((function(){return Object(Se["c"])(p.value.whalePx)})),B=Object(a["b"])((function(){var e=Object.values(n.value).filter((function(e){return r.districts.includes(e.district)&&("1"!==e.district||e.coordinateX-0>r.district1Bounds.minX&&e.coordinateX-0<r.district1Bounds.maxX)}));return Object.fromEntries(e.map((function(e){var t=o.value[e.id],c=(null===t||void 0===t?void 0:t.highestBid)-0,a=(null===t||void 0===t?void 0:t.highestBidGhst)||"";return[e.id,{hasAuction:!!t,highestBid:c,highestBidGhst:a,highestBidder:null===t||void 0===t?void 0:t.highestBidder}]})))})),x=Object(a["b"])((function(){var e=Object.values(n.value).filter((function(e){var t;return null===(t=B.value[e.id])||void 0===t?void 0:t.hasAuction}));return e})),C=Object(a["b"])((function(){var e=p.value.colorBy,t=function(){return"white"};"price"===e?t=function(e){var t=v.value[e.sizeLabel];return t?t(B.value[e.id].highestBidGhst-0):"white"}:"bidder"===e?t=function(e){return g.value(parseInt(B.value[e.id].highestBidder,16))}:"whaleGhst"===e?t=function(e){return y.value(E.value[B.value[e.id].highestBidder]||0)}:"whalePx"===e&&(t=function(e){return S.value(N.value[B.value[e.id].highestBidder]||0)});var c=Object.fromEntries(x.value.map((function(e){return[e.id,B.value[e.id].hasAuction?t(e):"white"]})));return c})),P=Object(a["b"])((function(){var e=Object(ze["b"])(f.value.parcelIds),t=Object(Ge["b"])(f.value.parcelNames),c=Object(De["c"])(f.value.size),a=Object(Fe["b"])(f.value.walls),l=Object(Le["d"])(r.districts,f.value.districts),n=Object(Ue["c"])(f.value.boosts),i=We(B.value,f.value.bidders),o=[e,t,i,c,a,l,n],u=Object.fromEntries(x.value.map((function(e){for(var t=!0,c=0;t&&c<o.length;c++)o[c](e)||(t=!1);return[e.id,t]})));return u})),k=Object(a["b"])((function(){var e=x.value.filter((function(e){return P.value[e.id]&&B.value[e.id].hasAuction}));return e.sort((function(e,t){var c=B.value[e.id],a=B.value[t.id];return c.highestBid===a.highestBid?0:c.highestBid<a.highestBid?-1:1})),e})),A=function(e){c.value=e.id},w=Object(a["b"])((function(){return c.value?Object(fe["a"])(Object(fe["a"])({},n.value[c.value]),{},{auction:B.value[c.value]}):null})),E=Object(a["b"])((function(){for(var e={},t=0,c=Object.values(B.value);t<c.length;t++){var a=c[t];if(a.hasAuction){var l=a.highestBidder;e[l]||(e[l]=new me.a(0)),e[l]=e[l].plus(new me.a(a.highestBidGhst))}}return e.undefined=new me.a(0),Object.fromEntries(Object.entries(e).map((function(e){var t=Object(je["a"])(e,2),c=t[0],a=t[1];return[c,a.toNumber()]})))})),N=Object(a["b"])((function(){var e,t={},c={humble:64,reasonable:256,spacious:2048},a=Object(Oe["a"])(x.value);try{for(a.s();!(e=a.n()).done;){var l=e.value,n=B.value[l.id],i=n.highestBidder;t[i]||(t[i]=0),t[i]+=c[l.sizeLabel]||0}}catch(r){a.e(r)}finally{a.f()}return t.undefined=0,t}));return{auctionInfo:r,parcelDetailsRef:t,parcelsToDisplay:x,parcelsMatchingFilters:P,parcelColors:C,parcelAuctions:B,listParcelsToDisplay:k,onClickParcel:A,selectedParcelId:c,selectedParcel:w,mostRecentAuction:u,mostRecentAuctionDate:O,canSubmitAuctionsFetch:s,fetchAuctions:b,auctionsFetchStatus:d,SCALE_NAMES:Se["b"],SCALE_GRADIENTS:Se["a"],mapConfig:j,filters:f,colorSchemeOptions:h,colorScheme:p,colorSchemeLabel:m}}};c("119f");const Ze=Ee()(Ye,[["render",be],["__scopeId","data-v-29eb1422"]]);var et=Ze,tt={components:{LandAuction:et},props:{auctionId:{type:String,default:"1"}}};const ct=Ee()(tt,[["render",l]]);t["default"]=ct},efee:function(e,t,c){},f216:function(e,t,c){"use strict";c.d(t,"a",(function(){return f}));var a=c("1da1"),l=c("3835"),n=c("5530"),i=c("b85c"),r=(c("96cf"),c("d3b7"),c("25f0"),c("07ac"),c("3ca3"),c("ddb0"),c("e9c4"),c("99af"),c("7a23")),o=c("2e7a"),u=c("901e"),s=c.n(u),d="https://api.thegraph.com/subgraphs/name/aavegotchi/aavegotchi-realm-matic",b=1e3,O={1:{id:1,days:"28 - 31 Oct 2021",startTime:16354188e5,endTime:16357104e5,districts:["1","2","3","4","5","14","15","16","17","18","19","20","21","22","39","40","41","42","43"],district1Bounds:{minX:3160,maxX:4235},display:{viewBox:"0 0 5000 5500",aspectRatio:"10 / 8"}},2:{id:2,days:"2-5 Dec 2021",startTime:16384464e5,endTime:16387344e5,districts:["1","7","8","9","10","11","12","27","28","29","30"],district1Bounds:{minX:5200,maxX:6336},display:{viewBox:"6600 1000 2500 4400",aspectRatio:"10 / 8"}}},j={};function f(e){if(j[e])return j[e];var t=O[e];if(t){var u=Object(r["z"])({}),f=function(e){var t,c=Object(i["a"])(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;u.value[a.tokenId]=Object(n["a"])(Object(n["a"])({},a),{},{highestBidGhst:new s.a(a.highestBid).dividedBy(1e18).toString()})}}catch(l){c.e(l)}finally{c.f()}},h=Object(r["b"])((function(){for(var e=null,t=0,c=Object.values(u.value);t<c.length;t++){var a=c[t];e?a.lastBidTime-0>e.lastBidTime-0&&(e=a):e=a}return e})),p=Object(o["a"])(),m=p.status,v=p.setLoading,g=Object(r["b"])((function(){return!m.value.loading})),y=function(){var t=v(),a=Object(l["a"])(t,3),n=a[0],i=a[1],r=a[2];c("b6b3")("./auction"+e+".json").then((function(e){var t=e.default;n()?console.log("Stale request, ignoring"):(u.value=t,i())})).catch((function(e){console.error(e),r("There was an error fetching parcels")}))},S=function(){var e=v(),c=Object(l["a"])(e,3),n=c[0],i=c[1],r=c[2],o=function e(){var c,l=(null===(c=h.value)||void 0===c?void 0:c.lastBidTime)||0,o=t.startTime/1e3,u=t.endTime/1e3;fetch(d,{method:"POST",body:JSON.stringify({query:"{\n            auctions(first: ".concat(b,', orderBy: lastBidTime, where: { startTime_gt: "').concat(o,'", endTime_lt: "').concat(u,'", lastBidTime_gte: "').concat(l,'" }) {\n              id\n              orderId\n              type\n              tokenId\n              highestBid\n              highestBidder\n              lastBidTime\n              totalBids\n              startTime\n              endTime\n              claimed\n            }\n          }')})}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(c){var a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n()){t.next=3;break}return console.log("Stale request, ignoring"),t.abrupt("return");case 3:if(c.ok){t.next=6;break}return r("There was an error fetching auctions"),t.abrupt("return");case 6:return t.next=8,c.json();case 8:if(l=t.sent,null===(a=l.data)||void 0===a||!a.auctions){t.next=17;break}if(f(l.data.auctions),!(l.data.auctions.length<b)){t.next=14;break}return i(),t.abrupt("return");case 14:e(),t.next=18;break;case 17:r("Unexpected response");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e),r("There was an error fetching parcels")}))};o()};return j[e]={auctionInfo:t,auctionsByParcelId:u,mostRecentAuction:h,canSubmitFetch:g,fetchStatus:m,fetchAuctions:S},y(),j[e]}console.error("Invalid auctionId provided to useAuctions")}}}]);
//# sourceMappingURL=land-auction.3cda4a18.js.map